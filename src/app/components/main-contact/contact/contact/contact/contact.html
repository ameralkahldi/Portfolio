<section class="contact">
  <div class="container">
    <div class="contact-wrapper">
      <div class="contact-heading">
        <h3>{{ 'CONTACT.HEADING' | translate }}</h3>
        <h1>{{ 'CONTACT.SUBHEADING' | translate }}</h1>

        <h2>{{ 'CONTACT.QUESTION' | translate }}</h2>
        <p>{{ 'CONTACT.DESCRIPTION' | translate }}</p>
      </div>

      <form [formGroup]="contactForm" (ngSubmit)="submitForm()">
        @for (field of formFields; track field.name) {
          <div class="form-group" [class.checkbox]="field.type === 'checkbox'">
            <label *ngIf="field.type !== 'checkbox'">{{ field.label | translate }}</label>

            @if (field.type === 'textarea') {
              <textarea
                [formControlName]="field.name"
                rows="5"
                [placeholder]="field.placeholder | translate"
              ></textarea>
            } @else if (field.type === 'checkbox') {
              <input type="checkbox" [formControlName]="field.name" />
              <label>{{ field.label | translate }}</label>
            } @else {
              <input
                [type]="field.type"
                [formControlName]="field.name"
                [placeholder]="field.placeholder | translate"
              />
            }

            @if (contactForm.get(field.name)?.invalid && contactForm.get(field.name)?.touched) {
              <p class="error">
                {{ field.error | translate }}
              </p>
            }
          </div>
        }

        <button class="btn" type="submit" [disabled]="contactForm.invalid">
          {{ 'CONTACT.SUBMIT' | translate }}
        </button>

        @if (submitted) {
          <p class="success-message">{{ 'CONTACT.SUCCESS' | translate }}</p>
        }
      </form>
    </div>
  </div>
</section>
